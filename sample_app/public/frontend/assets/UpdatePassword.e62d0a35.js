import{_ as g}from"./logo.fb032b54.js";import{_ as x,y,z as r,C as b,b as k,n as e,d,p as V,q as I,B as P,u as B,t as S,r as p,o as T}from"./vendor.e13fd97f.js";const u=o=>(V("data-v-6ae8e565"),o=o(),I(),o),C={class:"flex align-items-center",style:{height:"100vh",width:"100%","background-color":"#f1f5f7"}},N={class:"login-container lg:col-6 lg:col-offset-3 md:col-12 md:col-offset-0"},U=u(()=>e("div",{class:"flex justify-content-center mb-5"},[e("img",{src:g,alt:"logo"})],-1)),j=u(()=>e("div",{class:"flex flex-wrap align-items-center mb-3",style:{"justify-content":"center"}},[e("p",{class:"font-semibold"},"Set Password")],-1)),z={class:"flex flex-wrap align-items-center mb-3"},E={class:"flex flex-wrap align-items-center mb-3"},R=u(()=>e("div",{style:{position:"fixed",bottom:"0",width:"100%","text-align":"center"}},[e("p",{style:{"font-size":"13px"},class:"mb-5"},[P(" Developed by "),e("a",{style:{color:"#53b5c6"},target:"_blank",href:"https://www.ideenkreisetech.com/"},"Ideenkreisetech")])],-1)),q={setup(o){const _=y(),c=r(""),t=r(""),a=r(""),f=B(),l=r(!1);b(()=>{const s=new URLSearchParams(window.location.search);c.value=s.get("key")||"",console.log(c.value)});const v=()=>{t.value==a.value?(l.value=!0,S("frappe.core.doctype.user.user.update_password",{key:c.value,old_password:"",new_password:t.value,confirm_password:a.value,logout_all_sessions:1}).then(s=>{l.value=!1,f.push("/")}).catch(s=>{l.value=!1,_.add({severity:"warn",summary:"Error",detail:JSON.stringify(s.messages[0]),life:3e3})})):_.add({severity:"info",summary:"info",detail:"Passwords do not match",life:3e3})};return(s,n)=>{const m=p("InputText"),w=p("Button"),h=p("Toast");return T(),k("div",C,[e("div",N,[U,j,e("div",z,[d(m,{id:"password",modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=i=>t.value=i),placeholder:"New Password",class:"input-text p-3"},null,8,["modelValue"])]),e("div",E,[d(m,{id:"re-password",modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=i=>a.value=i),placeholder:"Confirm Password",class:"input-text p-3"},null,8,["modelValue"])]),d(w,{label:"Confirm",class:"button-submit p-3 mt-4 font-normal",onClick:v,disabled:l.value},null,8,["disabled"])]),R,d(h)])}}};var L=x(q,[["__scopeId","data-v-6ae8e565"]]);export{L as default};

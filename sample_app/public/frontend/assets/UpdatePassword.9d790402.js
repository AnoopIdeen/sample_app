import{_ as g}from"./logo-f.e0954f21.js";import{_ as h,G as x,v as d,w as y,b,y as s,d as o,A as V,C as k,u as I,x as P,r as i,o as B}from"./vendor.d06153e6.js";import{F as C}from"./Footer.3a08b0d0.js";const S=a=>(V("data-v-0d748208"),a=a(),k(),a),T={class:"flex align-items-center",style:{height:"100vh",width:"100%","background-color":"#ffffff"}},U={class:"login-container lg:col-6 lg:col-offset-3 md:col-12 md:col-offset-0"},j=S(()=>s("div",{class:"flex justify-content-center mb-5"},[s("img",{class:"logo",src:g,alt:"logo"})],-1)),N={class:"flex flex-wrap align-items-center mb-3"},F={class:"flex flex-wrap align-items-center mb-3"},E={setup(a){const u=x(),p=d(""),t=d(""),l=d(""),m=I(),n=d(!1);y(()=>{const e=new URLSearchParams(window.location.search);p.value=e.get("key")||""});const f=()=>{t.value==l.value?(n.value=!0,P("frappe.core.doctype.user.user.update_password",{key:p.value,old_password:"",new_password:t.value,confirm_password:l.value,logout_all_sessions:1}).then(e=>{n.value=!1,m.push("/")}).catch(e=>{n.value=!1,u.add({severity:"warn",summary:"Error",detail:JSON.stringify(e.messages[0]),life:3e3})})):u.add({severity:"info",summary:"info",detail:"Passwords do not match",life:3e3})};return(e,r)=>{const _=i("InputText"),v=i("Button"),w=i("Toast");return B(),b("div",T,[s("div",U,[j,s("div",N,[o(_,{id:"password",modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=c=>t.value=c),placeholder:"New Password",class:"input-text p-3"},null,8,["modelValue"])]),s("div",F,[o(_,{id:"re-password",modelValue:l.value,"onUpdate:modelValue":r[1]||(r[1]=c=>l.value=c),placeholder:"Confirm Password",class:"input-text p-3"},null,8,["modelValue"])]),o(v,{label:"Confirm",class:"button-submit p-3 mt-4 font-normal",onClick:f,disabled:n.value},null,8,["disabled"])]),o(C),o(w)])}}};var J=h(E,[["__scopeId","data-v-0d748208"]]);export{J as default};
